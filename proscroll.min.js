var ProScroll=(function(){var a=Class.create();a.Version="0.0.2";a.keyPress=function(b){if(b.keyCode===18&&b.type==="keydown"){a.horiKey=true}else{a.horiKey=false}};a.horiKey=false;a.options={axis:"both",trackClassName:"scrollbar",handleClassName:"scrollbar_handle"};a.prototype={initialize:function(b,c){this.options={};Object.extend(this.options,a.options);Object.extend(this.options,c||{});this.container=$(b).setStyle({overflow:"hidden"}).observe("mouse:wheel",function(e){e.stop();var d=a.horiKey?this.sliders.horizontal:this.sliders.vertical;if(e.memo.delta<0){d.setValue(d.value+0.1)}else{d.setValue(d.value-0.1)}}.bind(this));this.content=this.container.down();this.diff=this._calcDiff();this.sliders=this.createSliders()},createSliders:function(){var c=[];if(this.options.axis==="both"){c=["vertical","horizontal"]}else{c=[this.options.axis]}var b={};c.each(function(d){b[d]={track:new Element("div").addClassName(d+"_"+this.options.trackClassName),handle:new Element("div").addClassName(d+"_"+this.options.handleClassName)};this.container.insert(b[d].track.insert(b[d].handle));b[d]=new Control.Slider(b[d].handle.identify(),b[d].track.identify(),{axis:d,onSlide:function(e){this["_"+d+"Slide"](e)}.bind(this),onChange:function(e){this["_"+d+"Slide"](e)}.bind(this)})}.bind(this));return b},_verticalSlide:function(b){var c=((Math.round(b*10000)/10000)*this.diff.vertical).ceil();this.content.setStyle({top:"-"+c+"px"})},_horizontalSlide:function(b){var c=((Math.round(b*10000)/10000)*this.diff.horizontal).ceil();this.content.setStyle({left:"-"+c+"px"})},_calcDiff:function(){var b=this.container.getDimensions();var c=this.content.getDimensions();var d={};d.horizontal=(c.width-b.width).ceil();d.vertical=(c.height-b.height).ceil();return d}};(function(){function b(e){var f,d,c;if(e.wheelDelta){f=e.wheelDelta/120}else{if(e.detail){f=-e.detail/3}}if(!f){return}d=Event.extend(e).target;d=Element.extend(d.nodeType===Node.TEXT_NODE?d.parentNode:d);c=d.fire("mouse:wheel",{delta:f});if(c.stopped){Event.stop(e);return false}}document.observe("mousewheel",b);document.observe("DOMMouseScroll",b);document.observe("keydown",a.keyPress);document.observe("keyup",a.keyPress)})();return a})();